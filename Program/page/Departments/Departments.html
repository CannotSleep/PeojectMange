<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>部门管理</title>
    <link rel="stylesheet" type="text/css" href="../../layui/css/layui.css" />
    <link rel="stylesheet" type="text/css" href="../../css/page.css" />
    <style type="text/css">
        .tree-box {
            width: 95%;
            min-height: 500px;
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <!--顶部菜单-->
    <div class="layui-fluid">
        <div class="layui-row">
            <fieldset id="" class="layui-elem-field layui-field-title">
                <legend>部门管理</legend>
            </fieldset>
        </div>
        <div class="layui-row">
            <table class="layui-table">
                <tbody>
                    <tr>
                        <td style="width: 20%;padding: 0px;">
                            <div style="" class="tree-box">
                                <ul id="Departments-tree"></ul>
                            </div>
                        </td>
                        <td style="width: 80%;padding: 0px;">
                            <div class="">
                                <iframe src="DepartmentDetails.html" width="100%" height="500px" style="border: none;" id="tree-iframe"></iframe>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="../../layui/layui.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
        layui.use(['tree', 'layer', 'jquery'], function() {
            var layer = layui.layer,
                $ = layui.jquery,
                tree = layui.tree;

            //以下为静态数据,实际应该使用上述代码从后台获取节点数据
            layui.tree({
                elem: '#Departments-tree', //指定元素						
                target: '_blank', //是否新选项卡打开（比如节点返回href才有效）						
                click: function(item) { //点击节点回调
                    //layer.msg('当前节名称：' + item.name + '<br>全部参数：' + JSON.stringify(item));
                    $("#tree-iframe").attr("src", item.datakey);
                    console.log(item);//输出节点信息
                },
                nodes: [ //节点
                    {
                        name: '星层科技',
                        id: 0,
                        spread: false
                    },
                    {
                        name: '研发部',
                        id: 1,
                        alias: 'yanfabu',
                        datakey: 'DepartmentDetails.html',
                        children: [{
                            name: '建模组',
                            id: 11,
                            datakey: 'DepartmentDetails.html',
                            alias: 'fanmo'
                        }, {
                            name: '算量组',
                            id: 12,
                            datakey: 'DepartmentDetails.html'
                        }]
                    }
                ]
            });

        });
    </script>
</body>

</html>